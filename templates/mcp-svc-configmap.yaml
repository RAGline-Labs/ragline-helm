{{- if .Values.services.mcpSvc.enabled }}
apiVersion: v1
kind: ConfigMap
metadata:
  name: ragline-mcp-svc-config
  labels:
    {{- include "ragline.labels" . | nindent 4 }}
    component: mcp-svc
data:
  # MCP Service URLs
  ADO_MCP_URL: "http://{{ .Values.services.adoMcp.name }}:{{ .Values.services.adoMcp.port }}"
  GITHUB_MCP_URL: "http://{{ .Values.services.githubMcp.name }}:{{ .Values.services.githubMcp.port }}"
  RAGLINE_MCP_PORT: {{ .Values.services.mcpSvc.port | quote }}
  
  # Security Configuration
  BLOCK_WRITE_GLOBS: {{ .Values.config.mcpGateway.blockWriteGlobs | quote }}
  
  # Discovery Configuration
  DISCOVERY_INTERVAL: {{ .Values.config.mcpGateway.discoveryInterval | quote }}
{{- end }}

